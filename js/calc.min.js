function calcular(){var a=$("#sueldoBruto").val(),b=$("input[name='conyuge']:checked").val(),c=$("input[name='jubilado']:checked").val(),d=$("input[name='patagonico']:checked").val(),e=$("#alquiler").val(),f=12*e*.4>TOPE_ALQUILER?TOPE_ALQUILER:12*e*.4,g=$("#hipotecario").val(),h=$("#domestico").val(),i=12*g>TOPE_HIPOTECARIO?TOPE_HIPOTECARIO:12*g,j=13*h>TOPE_DOMESTICO?TOPE_DOMESTICO:13*h,k=document.getElementById("hijos"),l=k.options[k.selectedIndex].value,m=0==c?.17*a>TOPE_APORTES?a-TOPE_APORTES:.83*a:.06*a>TOPE_APORTES?a-TOPE_APORTES:.94*a,n=13*m,o=(MINIMO_NO_IMPONIBLE+ADICIONAL_4TA_CATEGORIA)*(1.22*d+(1-d));mniTotal=(o+CONYUGE*b+HIJO*l+f+i+j)*(1-c)+c*(TOPE_JUBILADO+f+i+j),montoImponibleAplicable=0,mniTotal<n&&(montoImponibleAplicable=n-mniTotal);for(var p=[0,0,0,0,0,0,0,0,0],q=0;q<p.length&&(p[q]=calcularValorEscala(q,montoImponibleAplicable),p[q]==fijosEscalas[q]);q++);for(var r=q,s=0,q=0;q<p.length;q++)s+=p[q];s=s.toFixed(2),$("#impuestoAnual").text("$"+s);var t=(s/13).toFixed(2);$("#impuestoMensual").text("$"+t);var u=t/a*100;$("#alicuota").text(u.toFixed(2)+"%");var v=0==u?0:100*porcentajesEscalas[r];$("#alicuotaMarginal").text(v.toFixed(2)+"%");var w=m-t;$("#sueldoEnMano").text("$"+Math.round(w)+".00")}function calcularValorEscala(a,b){var c=0,d=0;return a>0&&(d=topesEscalas[a-1]),c=b<topesEscalas[a]?(b-d)*porcentajesEscalas[a]:fijosEscalas[a]}$(document).ready(function(){$("#calcular").on("click",function(){calcular()}),$(document).keypress(function(a){13==a.keyCode&&(a.preventDefault(),calcular())}),$("input[name='jubilado']").click(function(){$("input[name='conyuge']").attr({disabled:1==$(this).val()}),$("input[name='patagonico']").attr({disabled:1==$(this).val()})})});var topesEscalas=[2e4,4e4,6e4,8e4,12e4,16e4,24e4,32e4,99999999],porcentajesEscalas=[.05,.09,.12,.15,.19,.23,.27,.31,.35],fijosEscalas=[1e3,1800,2400,3e3,7600,9200,21600,24800],MINIMO_NO_IMPONIBLE=51967,ADICIONAL_4TA_CATEGORIA=249441.6,CONYUGE=48447,HIJO=24432,TOPE_APORTES=10896.32,TOPE_JUBILADO=407592,TOPE_ALQUILER=51967,TOPE_HIPOTECARIO=2e4,TOPE_DOMESTICO=MINIMO_NO_IMPONIBLE;